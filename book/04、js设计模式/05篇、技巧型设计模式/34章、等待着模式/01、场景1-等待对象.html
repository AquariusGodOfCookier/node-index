<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<script>
    class Writer {
        constructor() {
            this.dfd = [];                  // 注册了的等待对象容器
            this.doneArr = [];              // 成功回调方法容器
            this.failArr = [];              // 失败回调方法容器
            this.slice = Array.prototype.slice;     // 缓存Array.slice方法
        }

        // 创建监听对象
        deferred() {
            return new PromiseRebuild();
        }

        // 回调执行方法
        _exec(arr) {

        }

        // 监控异步方法
        when() {

        }

        done() {

        }

        fail() {

        }
    }

    // 监控兑现各类
    class PromiseRebuild {
        constructor() {
            this.resolved = false;          // 监控对象是否解决成功状态
            this.rejected = false;          // 监控对象是否解决失败状态
        }

        // 解决成功
        resolve() {

        }

        // 解决失败
        reject() {

        }
    }
</script>
</body>
</html>